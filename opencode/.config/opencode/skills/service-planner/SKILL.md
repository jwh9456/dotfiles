---
name: service-planner
description: 새로운 서비스 구현을 위한 계획 수립 스킬. 사용자가 "새로운 서비스를 만들려고 해", "XXX 기능을 구현하려고 해", "서비스 계획 세워줘" 등의 요청을 할 때 사용. 요구사항 논의 → UI/UX 설계 → 아키텍처 설계 → TDD 기반 작업 계획 작성의 4단계 워크플로우를 따름. 프론트엔드가 포함된 서비스에서 화면 구조, 컴포넌트 분해, 인터랙션 패턴까지 계획 단계에서 확정.
---

# Service Planner

새로운 서비스 구현을 위한 계획을 수립하는 스킬.

## 워크플로우

### 1단계: 요구사항 확정

사용자가 기능 집합(간단한 기획 수준)을 제시하면:

1. 구현에 필요하지만 모호하거나 구체화가 필요한 부분 식별
2. 해당 부분에 대해 질문/논의 진행
3. 요구사항 확정 및 정리

**주의**: 불필요한 질문 금지. 구현에 직접 영향을 주는 모호한 부분만 논의.

### 2단계: UI/UX 설계

프론트엔드가 포함된 서비스에서 실행. 백엔드 API만 있는 서비스는 이 단계를 건너뜀.

#### 2-1. 화면 목록 및 흐름 정의

확정된 요구사항을 기반으로:

1. 전체 화면(페이지/뷰) 목록 작성
2. 화면 간 네비게이션 흐름 정의 (어디서 어디로 이동하는지)
3. 각 화면의 목적을 한 줄로 정리

예시:
```
화면 목록:
- 로그인 → 인증 처리
- 대시보드 → 핵심 지표 요약
- 프로젝트 목록 → 프로젝트 CRUD
- 프로젝트 상세 → 태스크 관리

흐름: 로그인 → 대시보드 → 프로젝트 목록 → 프로젝트 상세
```

#### 2-2. 화면별 와이어프레임 (React 아티팩트)

각 화면을 React 아티팩트로 작성하여 시각적 목업 제공.

**와이어프레임 작성 규칙:**
- Tailwind CSS로 스타일링. 실제 구현이 아닌 구조 확인 목적.
- 실제 데이터 대신 현실적인 더미 데이터 사용
- 모든 인터랙션 요소(버튼, 입력, 모달 등) 포함. 동작하지 않아도 됨.
- 반응형이 필요한 경우 모바일/데스크톱 레이아웃 모두 표현
- 한 아티팩트에 관련 화면을 탭으로 묶어서 비교 가능하게 구성

**예시 구조:**
```jsx
// 하나의 아티팩트에서 여러 화면을 탭으로 전환
const [activeTab, setActiveTab] = useState('dashboard');

// 각 탭 = 하나의 화면 와이어프레임
```

사용자와 와이어프레임을 리뷰하며 조정. 확정될 때까지 반복.

#### 2-3. 컴포넌트 분해 및 인터랙션 명세

와이어프레임 확정 후, 각 화면에서:

1. **컴포넌트 트리** — 화면을 구성하는 컴포넌트 계층 정의
2. **인터랙션 패턴** — 사용자 액션 → 결과 매핑
3. **상태 목록** — 각 화면/컴포넌트의 상태 (loading, empty, error, success 등)

예시:
```
화면: 프로젝트 목록
├── Header (네비게이션, 사용자 메뉴)
├── ProjectFilterBar (검색, 필터, 정렬)
├── ProjectGrid
│   └── ProjectCard (썸네일, 제목, 진행률, 멤버)
└── CreateProjectModal (이름, 설명, 멤버 초대)

인터랙션:
- ProjectCard 클릭 → 프로젝트 상세로 이동
- "새 프로젝트" 버튼 → CreateProjectModal 열기
- 검색어 입력 → 300ms 디바운스 후 필터링

상태:
- loading: 스켈레톤 UI
- empty: "프로젝트가 없습니다" + 생성 유도 CTA
- error: 재시도 버튼 포함 에러 메시지
```

### 3단계: 아키텍처 확정

두 가지 아키텍처를 논의하고 확정:

**인프라 컴포넌트**
- 서비스 실행에 필요한 컴포넌트 (DB, 캐시, 메시지 큐 등)
- 각 컴포넌트의 역할과 선택 이유

**e2e 테스트 아키텍처** (필수)
- e2e 테스트는 모든 기능에 필수. 선택 사항이 아님.
- GitHub Actions 기준으로 구성 (로컬에서도 동일하게 실행 가능해야 함)
- 테스트 환경 구성 (testcontainers, docker-compose 등)
- 외부 의존성 처리 (mock 서비스, 테스트용 인스턴스 등)
- 테스트 데이터 관리 방식

### 4단계: 작업 계획 작성

TDD 기반으로 작업 계획 작성.

#### 핵심 개념: 기능 ≠ 작업

- **기능(Feature)**: 사용자 관점의 하나의 완결된 동작 단위. 작업을 묶는 **그룹**이지, 그 자체가 작업이 아님.
- **작업(Task)**: 한 명의 담당자(사람 또는 AI)에게 분배 가능한 실행 단위.

모든 기능은 반드시 아래 **정확히 2개의 작업**으로 분해해야 한다:

| 작업 번호 | 작업 | 설명 |
|-----------|------|------|
| 작업 1 | e2e 테스트 작성 (skipped) | 기능의 완료 조건을 테스트로 정의. 아직 구현이 없으므로 skip 처리. |
| 작업 2 | 구현 및 e2e 테스트 활성화 | 기능을 구현하고 작업 1의 테스트를 활성화하여 통과시킴. |

기능을 작업 1개로 퉁치거나, 3개 이상으로 쪼개는 것 모두 금지.

#### 출력 형식

```
1. [인프라] 인프라 및 테스트 환경 구성
   - [ ] 작업 1-1: 인프라 컴포넌트 설정
   - [ ] 작업 1-2: e2e 테스트 환경 구성

2. [기능] 사용자 생성
   - [ ] 작업 2-1: e2e 테스트 작성 (skipped)
   - [ ] 작업 2-2: 구현 및 e2e 테스트 활성화

3. [기능] 사용자 로그인
   - [ ] 작업 3-1: e2e 테스트 작성 (skipped)
   - [ ] 작업 3-2: 구현 및 e2e 테스트 활성화
```

반드시 지킬 것:
- 기능 번호와 작업 번호를 `N-M` 형식으로 부여 (기능 2의 작업 1 = `작업 2-1`)
- 각 작업의 description에 관련 화면, 컴포넌트, 인터랙션, 상태 처리를 명시 (2단계 산출물 참조)

#### 잘못된 예시

```
# ❌ 기능을 작업 1개로 취급
2. 사용자 생성
   → "사용자 생성"은 기능이지 작업이 아님. 반드시 2개 작업으로 분해.

# ❌ 작업을 3개 이상으로 분리
2. [기능] 메인 대화 뷰
   - [ ] 작업 2-1: e2e 테스트 작성
   - [ ] 작업 2-2: 구현 - 메시지 표시
   - [ ] 작업 2-3: 모바일 반응형 스타일링    ← 별도 작업 금지
   - [ ] 작업 2-4: e2e 테스트 활성화        ← 구현과 분리 금지
```

#### 추가 규칙
- 단위 테스트 금지. e2e 테스트만 사용.
- 세부사항(메시지 렌더링, 모바일 반응형, 컴포넌트 구조, 상태 처리 등)은 작업의 description에 기술.
- 기능 간 의존성이 있으면 순서 조정.

## 출력 형식

사용자의 요청에 따라 유연하게 대응:
- 마크다운 문서
- Linear 이슈 등록 (linear-plan-publisher 스킬과 연계)
- 기타 사용자가 원하는 형식
